
= wrap_layout :layout do
  - if is_blog_article?
    %article
      .blog_post
        %h1
          = current_article.title

        .blog_body
          - if current_article.tags.include?('play')
            = partial 'partials/play'

          ~ current_article.body

      %p
        %i.fa.fa-arrow-left
        = link_to('Blog Index', '/blog.html')
        |
        = link_to('Random Post', blog.articles.sample.url)
        %i.fa.fa-random

    %aside
      .top
        .heading
          Published
          %time
            = current_article.date.strftime('%B %e, %Y')

      .bottom
        %p
          -# needs to be an array so the join works right
          tags:
          - a = []
          - current_article.tags.sort.each do |tag|
            - a << link_to(tag, 'tags.html', {fragment: tag})
          = a.join(', ')
        %p
          On this day
          = "(in #{current_article.data.fact_year}): #{current_article.data.fact}"
